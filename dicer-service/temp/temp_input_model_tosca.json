{
	"tosca_definitions_version" : "cloudify_dsl_1_3" ,
"imports" : [
	"http://dice-project.github.io/DICE-Deployment-Cloudify/spec/fco/0.2.5/plugin.yaml"
	] ,
"outputs" : {
		"storm1_vm_ip_output" : {
		
"value":  {
				"get_attribute": [ "storm1_vm",
				"ip" ]
			}
		},
		"cassandra1_vm_ip_output" : {
		
"value":  {
				"get_attribute": [ "cassandra1_vm",
				"ip" ]
			}
		},
		"zookeeper1_vm_ip_output" : {
		
"value":  {
				"get_attribute": [ "zookeeper1_vm",
				"ip" ]
			}
		}
	}
	,
"node_templates" : {
		"storm1_vm" : {
			"type" : "dice.hosts.Medium" ,
"instances" : { "deploy" : 2
		}
		,
"relationships" : [ {
			"type" : "dice.relationships.ProtectedBy" ,
"target" : "storm1_firewall"
		},
		{
			"type" : "dice.relationships.IPAvailableFrom" ,
"target" : "storm1_vm_ip"
		}
		] ,
"properties" : {
			} },
			"storm1_vm_ip" : {
				"type" : "dice.VirtualIP" ,
"properties" : {
					} },
					"cassandra1_vm" : {
						"type" : "dice.hosts.Medium" ,
"instances" : { "deploy" : 2
					}
					,
"relationships" : [ {
						"type" : "dice.relationships.ProtectedBy" ,
"target" : "cassandra1_firewall"
					},
					{
						"type" : "dice.relationships.IPAvailableFrom" ,
"target" : "cassandra1_vm_ip"
					}
					] ,
"properties" : {
						} },
						"cassandra1_vm_ip" : {
							"type" : "dice.VirtualIP" ,
"properties" : {
								} },
								"zookeeper1_vm" : {
									"type" : "dice.hosts.Medium" ,
"instances" : { "deploy" : 1
								}
								,
"relationships" : [ {
									"type" : "dice.relationships.ProtectedBy" ,
"target" : "zookeeper1_firewall"
								},
								{
									"type" : "dice.relationships.IPAvailableFrom" ,
"target" : "zookeeper1_vm_ip"
								}
								] ,
"properties" : {
									} },
									"zookeeper1_vm_ip" : {
										"type" : "dice.VirtualIP" ,
"properties" : {
											} },
											"cassandra1_worker" : {
												"type" : "dice.components.cassandra.Worker" ,
"relationships" : [ {
													"type" : "dice.relationships.ContainedIn" ,
"target" : "cassandra1_vm"
												},
												{
													"type" : "dice.relationships.cassandra.ConnectedToSeed" ,
"target" : "cassandra1"
												}
												] ,
"properties" : {
													} },
													"cassandra1" : {
														"type" : "dice.components.cassandra.Seed" ,
"relationships" : [ {
															"type" : "dice.relationships.ContainedIn" ,
"target" : "cassandra1_seed_vm"
														}
														] ,
"properties" : {
															} },
															"cassandra1_firewall" : {
																"type" : "dice.firewall_rules.cassandra.Common" ,
"properties" : {
																	} },
																	"cassandra1_seed_vm" : {
																		"type" : "dice.hosts.Medium" ,
"instances" : { "deploy" : 1
																	}
																	,
"relationships" : [ {
																		"type" : "dice.relationships.ProtectedBy" ,
"target" : "cassandra1_firewall"
																	},
																	{
																		"type" : "dice.relationships.IPAvailableFrom" ,
"target" : "cassandra1_seed_vm_ip"
																	}
																	] ,
"properties" : {
																		} },
																		"cassandra1_seed_vm_ip" : {
																			"type" : "dice.VirtualIP" ,
"properties" : {
																				} },
																				"zookeeper1" : {
																					"type" : "dice.components.zookeeper.Server" ,
"relationships" : [ {
																						"type" : "dice.relationships.ContainedIn" ,
"target" : "zookeeper1_vm"
																					},
																					{
																						"type" : "dice.relationships.zookeeper.MemberOfQuorum" ,
"target" : "zookeeper1_quorum"
																					}
																					] ,
"properties" : {
																						} },
																						"zookeeper1_firewall" : {
																							"type" : "dice.firewall_rules.zookeeper.Server" ,
"properties" : {
																								} },
																								"zookeeper1_quorum" : {
																									"type" : "dice.components.zookeeper.Quorum" ,
"relationships" : [ {
																										"type" :
																										"dice.relationships.zookeeper.QuorumContains" ,
"target" : "zookeeper1_vm"
																									}
																									] ,
"properties" : {
																										} },
																										"storm1_master" : {
																											"type" : "dice.components.storm.Nimbus" ,
"relationships" : [ {
																												"type" : "dice.relationships.ContainedIn" ,
"target" : "storm1_master_vm"
																											},
																											{
																												"type" :
																												"dice.relationships.storm.ConnectedToZookeeperQuorum" ,
"target" : "zookeeper1_quorum"
																											}
																											] ,
"properties" : {

"configuration" : { 
																												"taskTimeout" : "60",
																												
																												"supervisorFrequency" : "60"
																											}
																											} },
																											"storm1" : {
																												"type" : "dice.components.storm.Worker" ,
"relationships" : [ {
																													"type" : "dice.relationships.ContainedIn" ,
"target" : "storm1_vm"
																												},
																												{
																													"type" :
																													"dice.relationships.storm.ConnectedToZookeeperQuorum" ,
"target" : "zookeeper1_quorum"
																												},
																												{
																													"type" :
																													"dice.relationships.storm.ConnectedToNimbus" ,
"target" : "storm1_master"
																												}
																												] ,
"properties" : {
																													} },
																													"storm1_master_firewall" : {
																														"type" : "dice.firewall_rules.storm.Nimbus" ,
"properties" : {
																															} },
																															"storm1_firewall" : {
																																"type" : "dice.firewall_rules.storm.Worker" ,
"properties" : {
																																	} },
																																	"storm1_master_vm" : {
																																		"type" : "dice.hosts.Medium" ,
"instances" : { "deploy" : 1
																																	}
																																	,
"relationships" : [ {
																																		"type" : "dice.relationships.ProtectedBy" ,
"target" : "storm1_master_firewall"
																																	},
																																	{
																																		"type" : "dice.relationships.IPAvailableFrom" ,
"target" : "storm1_master_vm_ip"
																																	}
																																	] ,
"properties" : {
																																		} },
																																		"storm1_master_vm_ip" : {
																																			"type" : "dice.VirtualIP" ,
"properties" : {
																																				} },
																																				"wikistats" : {
																																					"type" : "dice.components.storm.Topology" ,
"relationships" : [ {
																																						"type" : "dice.relationships.Needs" ,
"target" : "storm1"
																																					},
																																					{
																																						"type" :
																																						"dice.relationships.storm.SubmittedBy" ,
"target" : "storm1_master"
																																					},
																																					{
																																						"type" : "dice.relationships.Needs" ,
"target" : "cassandra1"
																																					}
																																					] ,
"properties" : {

"configuration" : {
																																					}
																																					,
"arguments" : [ {
																																						"get_attribute": [ "cassandra1",
																																						"ip" ]
																																					},
																																					"https://dumps.wikimedia.org/enwiki/20160820/enwiki-20160820-pages-articles1.xml-p000000010p000030302.bz2"
																																					],
																																					
																																					"application" :
																																					"http://193.77.50.17/html/dice-wikistats/wikistats-topology-0.1.0-SNAPSHOT.jar",
																																					
																																					"topology_class" :
																																					"dice.test.WikiTopology",
																																					
																																					"topology_name" : "wikistats" } }
																																				}
																																			}