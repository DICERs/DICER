tosca_definitions_version: cloudify_dsl_1_2
imports: ['http://www.getcloudify.org/spec/cloudify/3.3.1/types.yaml', 'http://dice-project.github.io/DICE-FCO-Plugin-Cloudify/0.1.1/plugin.yaml',
  'http://dice-project.github.io/cloudify-chef-plugin/1.3.2/plugin.yaml', 'http://dice-project.github.io/DICE-Deployment-Cloudify/spec/fco/develop/plugin.yaml']
node_templates:
  vm1:
    type: dice.hosts.Small
    instances: {deploy: 1}
    relationships:
    - {type: dice.relationships.ProtectedBy, target: spark_firewall}
    properties: {}
  vm2:
    type: dice.hosts.Small
    instances: {deploy: 1}
    properties: {}
  spark:
    type: dice.components.spark.Master
    relationships:
    - {type: dice.relationships.ContainedIn, target: vm1}
    properties:
      configuration: {driverMemory: '1', driverCores: '1', maxResultSize: '1', UIPort: '4040'}
  spark_firewall:
    type: dice.firewall_rules.spark.Master
    properties: {}
  spark_vm2_worker:
    type: dice.components.spark.Worker
    relationships:
    - {type: dice.relationships.ContainedIn, target: vm2}
    - {type: dice.relationships.spark.ConnectedToMaster, target: spark}
    properties:
      configuration: {sparkExecutorMemory: '1'}
  spark_vm2_worker_firewall:
    type: dice.firewall_rules.spark.Worker
    properties: {}

