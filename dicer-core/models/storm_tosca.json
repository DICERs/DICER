{
	"tosca_definitions_version" : "cloudify_dsl_1_2" ,
"imports" : [ "http://www.getcloudify.org/spec/cloudify/3.3.1/types.yaml",
	"http://dice-project.github.io/DICE-FCO-Plugin-Cloudify/0.1.1/plugin.yaml",
	"http://dice-project.github.io/cloudify-chef-plugin/1.3.2/plugin.yaml",
	"http://dice-project.github.io/DICE-Deployment-Cloudify/spec/fco/develop/plugin.yaml"
	] ,
"nodeTemplates" : {
		"vm1" : {
			"type" : "dice.hosts.Small" ,
"instances" : { "deploy" : 1
		}
		,
"relationships" : [ {
			"type" : "dice.relationships.ProtectedBy" ,
"target" : "zookeeper_vm1_worker_firewall"
		},
		{
			"type" : "dice.relationships.ProtectedBy" ,
"target" : "storm_firewall"
		}
		] ,
"properties" : {
			} },
			"vm2" : {
				"type" : "dice.hosts.Small" ,
"instances" : { "deploy" : 1
			}
			,
"properties" : {
				} },
				"storm" : {
					"type" : "dice.components.storm.Nimbus" ,
"relationships" : [ {
						"type" : "dice.relationships.ContainedIn" ,
"target" : "vm1"
					},
					{
						"type" : "dice.relationships.storm.ConnectedToZookeeperQuorum" ,
"target" : "zookeeper"
					}
					] ,
"properties" : {

"configuration" : { 
						"taskTimeout" : "30",
						
						"supervisorTimeout" : "60",
						
						"monitorFrequency" : "10",
						
						"queueSize" : "100000",
						
						"retryTimes" : "5",
						
						"retryInterval" : "2000",
						
						"workerStartTimeout" : "120",
						
						"heartbeatFrequency" : "5",
						
						"cpuCapacity" : "400",
						
						"memoryCapacity" : "4096"
					}
					} },
					"storm_firewall" : {
						"type" : "dice.firewall_rules.storm.Nimbus" ,
"properties" : {
							} },
							"storm_vm2_slave" : {
								"type" : "dice.components.storm.Worker" ,
"relationships" : [ {
									"type" : "dice.relationships.ContainedIn" ,
"target" : "vm2"
								},
								{
									"type" : "dice.relationships.storm.ConnectedToNimbus" ,
"target" : "storm"
								},
								{
									"type" : "dice.relationships.storm.ConnectedToZookeeperQuorum" ,
"target" : "zookeeper"
								}
								] ,
"properties" : {

"configuration" : { 
									"workerStartTimeout" : "120",
									
									"heartbeatFrequency" : "5",
									
									"cpuCapacity" : "400",
									
									"memoryCapacity" : "4096"
								}
								} },
								"zookeeper_vm1_worker" : {
									"type" : "dice.components.zookeeper.Server" ,
"relationships" : [ {
										"type" : "dice.relationships.ContainedIn" ,
"target" : "vm1"
									},
									{
										"type" : "dice.relationships.zookeeper.MemberOfQuorum" ,
"target" : "zookeeper_quorum"
									}
									] ,
"properties" : {

"configuration" : { 
										"tickTime" : "1500",
										
										"initLimit" : "10",
										
										"syncLimit" : "5"
									}
									} },
									"zookeeper_vm1_worker_firewall" : {
										"type" : "dice.firewall_rules.zookeeper.Server" ,
"properties" : {
											} },
											"zookeeper" : {
												"type" : "dice.components.zookeeper.Quorum" ,
"relationships" : [ {
													"type" : "dice.relationships.zookeeper.QuorumContains" ,
"target" : "vm1"
												}
												] ,
"properties" : {
													} }
												}
											}